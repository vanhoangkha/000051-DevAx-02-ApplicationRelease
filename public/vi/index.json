[
{
	"uri": "/vi/1-prerequisites/",
	"title": "Chuẩn bị",
	"tags": [],
	"description": "",
	"content": "Trong phần này, chúng ta sẽ sử dụng CloudFormation để tạo các tài nguyên cần thiết cho bài thực hành.\n"
},
{
	"uri": "/vi/",
	"title": "Cấu hình tự động phát hành ứng dụng",
	"tags": [],
	"description": "",
	"content": "Cấu hình tự động phát hành ứng dụng Trong bài thực hành này, bạn sẽ tự động hóa quy trình thủ công mà bạn đã sử dụng trong bài đầu tiên DevAx::academy - Chuyển đổi ứng dụng Monoliths để triển khai ứng dụng Java TravelBuddy tới Elastic Beanstalk - được triển khai trên môi trường Tomcat. Bạn sẽ sử dụng dịch vụ AWS Developer Tools CodeStar để cung cấp một Continuous Integration/Continuous Delivery (CI/CD) pipeline. Bạn cũng sẽ được thử nghiệm triển khai một Windows Service tới máy ảo EC2 mà bạn quản lý trực tiếp bằng dịch vụ AWS CodeDeploy Trong bài thực hành này, bạn sẽ sử dụng các dịch vụ AWS Developer Tools sau:\nAWS CodeStar AWS CodeStar cho phép bạn nhanh chóng phát triển, xây dựng và triển khai các ứng dụng trên AWS. AWS CodeStar cung cấp giao diện người dùng thống nhất, cho phép bạn dễ dàng quản lý các hoạt động phát triển phần mềm của mình tại cùng một nơi. Với AWS CodeStar, bạn có thể thiết lập toàn bộ chuỗi công cụ phân phối liên tục của mình trong vài phút, cho phép bạn bắt đầu phát hành mã nhanh hơn. AWS CodeStar giúp cả nhóm của bạn dễ dàng làm việc cùng nhau một cách an toàn, cho phép bạn dễ dàng quản lý quyền truy cập và thêm chủ sở hữu, cộng tác viên và người xem vào các dự án của mình. Mỗi dự án AWS CodeStar đều đi kèm với một bảng điều khiển quản lý dự án, bao gồm khả năng theo dõi sự cố tích hợp được cung cấp bởi Atlassian JIRA Software. Với bảng điều khiển dự án AWS CodeStar, bạn có thể dễ dàng theo dõi tiến độ trong toàn bộ quy trình phát triển phần mềm của mình, từ các hạng mục công việc tồn đọng cho đến việc triển khai mã gần đây của nhóm.\nAWS CodeCommit AWS CodeCommit là một dịch vụ kiểm soát mã nguồn được quản lý hoàn toàn giúp các công ty dễ dàng quản lý các kho lưu trữ Git riêng một cách an toàn và có khả năng mở rộng cao. CodeCommit loại bỏ nhu cầu vận hành hệ thống kiểm soát nguồn của riêng bạn hoặc lo lắng về việc mở rộng cơ sở hạ tầng của nó. Bạn có thể sử dụng CodeCommit để lưu trữ an toàn mọi thứ từ mã nguồn đến mã nhị phân, CodeCommit cũng hoạt động liền mạch với các công cụ Git hiện có của bạn.\nAWS CodeBuild AWS CodeBuild là một dịch vụ xây dựng được quản lý hoàn toàn nhằm biên dịch mã nguồn, chạy thử nghiệm và sản xuất các gói phần mềm sẵn sàng triển khai. Với CodeBuild, bạn không cần phải cung cấp, quản lý và mở rộng các máy chủ xây dựng của riêng mình. CodeBuild mở rộng quy mô liên tục và xử lý nhiều bản dựng đồng thời, do đó, các bản dựng của bạn không phải chờ đợi trong hàng đợi. Bạn có thể bắt đầu nhanh chóng bằng cách sử dụng môi trường xây dựng đóng gói sẵn hoặc bạn có thể tạo môi trường xây dựng tùy chỉnh sử dụng các công cụ xây dựng của riêng bạn. Với CodeBuild, bạn bị tính phí theo phút cho các tài nguyên máy tính mà bạn sử dụng.\nAWS CodePipeline AWS CodePipeline là một dịch vụ tích hợp liên tục và phân phối liên tục để cập nhật ứng dụng và cơ sở hạ tầng nhanh chóng và đáng tin cậy. CodePipeline xây dựng, kiểm tra và triển khai mã của bạn mỗi khi có sự thay đổi mã nguồn, dựa trên các mô hình quy trình phát hành mà bạn xác định. Điều này cho phép bạn cung cấp các tính năng và bản cập nhật nhanh chóng và đáng tin cậy. Bạn có thể dễ dàng xây dựng giải pháp end-to-end bằng cách sử dụng các plugin được tạo sẵn cho các dịch vụ bên thứ ba phổ biến như GitHub hoặc tích hợp các plugin tùy chỉnh của riêng bạn vào bất kỳ giai đoạn nào trong quá trình phát hành của bạn. Với AWS CodePipeline, bạn chỉ trả tiền cho những gì bạn sử dụng. Không có phí trả trước hoặc cam kết dài hạn.\nAWS CodeDeploy AWS CodeDeploy là dịch vụ triển khai giúp tự động hóa việc triển khai ứng dụng cho các máy ảo Amazon EC2 hoặc các máy ảo on-premise trong cơ sở của riêng bạn. Bạn có thể triển khai nhiều loại nội dung ứng dụng gần như không giới hạn, chẳng hạn như mã nguồn, web và tệp cấu hình, tệp thực thi, gói, tập lệnh, tệp đa phương tiện, v.v. AWS CodeDeploy có thể triển khai nội dung ứng dụng được lưu trữ trong Amazon S3 bucket, kho GitHub hoặc kho Bitbucket. Bạn không cần thực hiện thay đổi đối với mã nguồn hiện có của mình trước khi có thể sử dụng AWS CodeDeploy. AWS CodeDeploy giúp bạn phát hành nhanh chóng các tính năng mới dễ dàng hơn, giúp bạn tránh thời gian chết trong quá trình triển khai ứng dụng và xử lý sự phức tạp của việc cập nhật ứng dụng của bạn mà không gặp nhiều rủi ro liên quan đến triển khai thủ công dễ xảy ra lỗi.\nNội dung Sau khi hoàn thành bài thực hành, bạn sẽ có thể:\n Sử dụng một ứng dụng monoliths Java chạy Spring trên Tomcat trên một môi trường tính toán chung và thực hiện \u0026lsquo;lift-and-shift\u0026rsquo; lên Amazon Elastic Beanstalk PaaS với CI/CD pipeline để tự động cập nhật, sử dụng AWS CodeStar Sử dụng Eclipse IDE để kết nối và kiểm tra mã nguồn dự án từ một kho lưu trữ AWS CodeCommmit do AWS CodeStar thiết lập. Thực hiện các thay đổi đối với mã nguồn, cam kết (commit) và đẩy (push) những thay đổi đó vào AWS CodeCommit để kích hoạt quy trình tạo tự động thông qua AWS CodePipeline. Spin-up EC2 chạy Windows theo cách thủ công và sử dụng AWS CodeDeploy để triển khai Windows Service cho các máy ảo. Hiểu cách lấy thông tin đăng nhập Quản trị viên cho máy ảo EC2 chạy Windows.  Kiến thức kỹ thuật cần có Để có thể hoàn thành bài thực hành này, bạn nên làm quen với:\n Những điều hướng cơ bản của AWS Management Console. Chỉnh sửa tập lệnh bằng trình soạn thảo. Sử dụng trình soạn thảo Eclipse và ngôn ngữ lập trình Java  Môi trường Tất cả tài nguyên cần thiết để bắt đầu bài thực hành được cung cấp trong CloudFomation template, sử dụng template này để khởi tạo các tài nguyên cho bài thực hành. Sơ đồ sau mô tả các tài nguyên được triển khai trong bài thực hành.\n"
},
{
	"uri": "/vi/1-prerequisites/1-create-environment/",
	"title": "Chuẩn bị môi trường",
	"tags": [],
	"description": "",
	"content": "Chuẩn bị môi trường Trong bài thực hành này, chúng ta sẽ sử dụng CloudFormation template đã cung cấp và cài đặt sẵn các tài nguyên cần thiết.\n Trong bài thực hành này, chúng ta sẽ sử dụng lại Keypair KPforDevAxInstances.PEM đã tạo ở bài thực hành trước cho các máy ảo. Hoặc bạn có thể xem lại bài thực hành trước để xem cách tạo một keypair. Tải tập tin CloudFormation template để cài đặt các thành phần cần thiết cho bài thực hành \r\rAttachments\r\r\rModule2.template.yaml\r\r(38 ko)\r\r\r\r Truy cập AWS CloudFormation  Chọn Create stack, chọn With new resources (standard)  Tại mục Prerequisite - Prepare template chọn Template is ready Tại mục Template source, chọn Upload a template file, nhấp chọn Choose file và trỏ tới file template đã tải xuống. Chọn Next  Nhập tên stack tại mục Stack name Chọn keypair KPforDevAxInstances cho mục EEKeyPair và chọn Next  Chọn Next tại trang Configure stack options  Chọn Create stack  Chúng ta cần chờ khoảng hơn 30 phút để các tài nguyên được khởi tạo và cấu hình.  "
},
{
	"uri": "/vi/5-monitor-service/1-monitor-service/",
	"title": "Sử dụng Eclipse IDE",
	"tags": [],
	"description": "",
	"content": " Trong AWS CodeDeploy Console, chọn Deployments Chọn tên deployment có deploymentID giống với deploymentID được trả về từ CLI ở phần trước  Kéo xuống Deployment Lifecycle Events, bạn sẽ thấy 2 máy ảo EC2 được gắn thẻ và thuộc deployment group. Một trong 2 sẽ có trạng thái là In Progress và cái còn lại là Pending, bởi vì chúng ta đã sử dụng behaviour cấu hình CodeDeployDefault.OneAtATime trong lời gọi CLI. Điều này buộc CodeDeploy chỉ triển khai bản cập nhật cho một máy chủ tại một thời điểm.  Trong thời gian ngắn, trạng thái sẽ thay đổi và bạn sẽ có thể xem các sự kiện. Nhấp vào View Events để hiển thị các sự kiện cho (các) máy ảo khi chúng được triển khai.   "
},
{
	"uri": "/vi/3-automate-application-deployment/1-replace-application/",
	"title": "Thay thế ứng dụng mẫu",
	"tags": [],
	"description": "",
	"content": "Vì chúng ta sắp thực hiện thay đổi đối với mã nguồn, bạn nên sử dụng Git để tạo một nhánh mới. Bạn có thể thực hiện việc này thông qua dòng lệnh hoặc sử dụng IDE Eclipse. Đặt tên cho nhánh mới là new-implementation. Để tạo và chuyển sang nhánh mới trong Eclipse, nhấp chuột phải vào project, chọn Team , chọn Switch To , chọn New Branch… , đặt tên nhánh mới là new-implementation và chọn Finish. Trong ví dụ này, chúng ta sẽ sử dụng dòng lệnh.\n Mở terminal và truy cập thư mục C:\\Users\\Administrator\\git\\TravelBuddy Chạy dòng lệnh git checkout -b new-implementation để tạo và chuyển sang nhánh mới.  Tải file TravelBuddy.zip và giải nén. \r\rAttachments\r\r\rTravelBuddy.zip\r\r(4888 ko)\r\r\r\r Trong Eclipse IDE, nhấp chuột phải vào root element của project TravelBuddy trong và chọn Show In -\u0026gt; System Explorer.  Xóa thư mục src và target Sao chép nội dung thư mục TravelBuddy đã giải nén vào thư mục vừa mở từ Eclip IDE. Bạn có thể xóa thư mục .ebextensions ở thư mục đích trước khi thực hiện sao chép, hoặc chọn Replace để đảm bảo các tập tin và thư mục được ghi đè chính xác.\nBạn sẽ thấy trong thư mục .ebextensions có 3 tập tin, một là các thông số bạn cần cập nhập với RDS endpoint, hai tập tin còn lại được tạo trước bằng cài đặt codecommit - set-instance-credit-unlimited.config sshd.config. Mở tập tin env_vars.config trong thư mục .ebextensions và thêm các thêm các mục sau:  option_settings:\r- namespace: aws:elasticbeanstalk:application:environment\roption_name: JDBC_CONNECTION_STRING\rvalue: \u0026lt;REPLACE YOUR DETAIILS HERE\u0026gt;\rBạn có thể lấy giá trị RDS của mình bằng cách đăng nhập vào AWS Console, truy cập RDS instance đang chạy và lấy thông tin endpoint từ đó và thêm nó vào tệp env_vars.\nBạn cũng có thể lấy thông số này từ cloudformation stack trong mục Output của Cloudformation stack được tạo từ đầu bài. 8. Nhấp chuột phải vào thư mục gốc của project và chọn Maven | Update Project | OK 9. Khi cập nhật hoàn tất, bạn sẽ thấy cấu trúc thư mục của dự án tương tự như hình dưới đây: 10. Bạn vừa hoàn tất hoàn tất việc thay đổi mã nguồn, bây giờ bạn cần thêm các tập tin bạn vừa thay đổi vào nhánh new-implementation và commit các tập tin này.\n11. Sử dụng terminal, truy cập vào thư mục TravelBuddy\n Nhập git status để xem các thay đổi của tập tin mã nguồn.  Nhập git config \u0026ndash;global user.email \u0026ldquo;you@example.com\u0026rdquo;. Nhập git add . để thêm các tập tin đã thay đổi. Nhập git commit -m \u0026ldquo;Baseline implementation\u0026rdquo; để commit các thay đổi.  Nhập git checkout master để chuyển tới nhánh master. Merge các thay đổi của nhánh new-implementation tới nhánh master bằng lệnh git merge new-implementation  Kiểm tra lại bằng lệnh git status.   Để đẩy các thay đổi này tới CodeCommit, trong Eclipse, nhấp chuột phải và project root và chọn Team | Push to Origin…  Chọn Close.\nSẽ mất một vài phút để đẩy mã nguồn lên và tiến hành triển khai.   Caching Trong bài thực hành này, chúng ta sẽ tăng tốc việc build trong tương lại bằng cách lưu trữ các artifacts (ví dụ như java packages) trong S3 bucket có thể sử dụng trên việc build tiếp theo.\nMở tập tin buildspec.yml và thêm các dòng sau:  cache:\rpaths:\r- '/root/.m2/**/*'\r15. Mở terminal.\n16. Tạo một caching bucket mới\naws s3 mb s3://cachingbucket-\u0026lt;YOURNAME-NO-SPACES\u0026gt;\r17. AWS CodeBuild cần truy cập vào cache bucket, do đó chúng ta cần têm IAM permissions. Mở AWS Console và truy cập IAM.\n18. Truy cập tab Policies và tìm policy CodeStar_travelbuddy_PermissionsBoundary, chọn Edit policy. 19. Trong trình soạn thảo, chọn JSON và thêm policy sau:\n...\r{\r\u0026#34;Sid\u0026#34;: \u0026#34;CBCachePolicy\u0026#34;,\r\u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;,\r\u0026#34;Action\u0026#34;: \u0026#34;s3:*\u0026#34;,\r\u0026#34;Resource\u0026#34;: [\r\u0026#34;arn:aws:s3:::cachingbucket-\u0026lt;YOURNAME-NO-SPACES\u0026gt;\u0026#34;,\r\u0026#34;arn:aws:s3:::cachingbucket-\u0026lt;YOURNAME-NO-SPACES\u0026gt;/*\u0026#34;\r]\r},\r...\r20. Chọn Review policy và chọn Save changes.\n21. Truy cập AWS Codestar và đi tới tab Pipeline của project. 22. Chọn AWS CodeBuild trong Buil section của Pipeline 23. Chọn Edit, và chọn Artifacts 24. Dưới mục Additional Configuration, chọn Caching và chọn S3 25. Chọn bucket bạn đã tạo ở trên.\n26. Sau khi triển khai hoàn tất, chọn Application Endpoint tại trang CodeStar dashboard. Bạn sẽ thấy website TravelBuddy được triển khai trên môi trường Elastic Beanstalk. "
},
{
	"uri": "/vi/2-configure-release-automation/1-setup-codestar-project/",
	"title": "Thiết lập một AWS CodeStar project ",
	"tags": [],
	"description": "",
	"content": "Thiết lập một AWS CodeStar project  Truy cập AWS VPC dashboard. Chọn VPCs  Bạn sẽ thấy có một VPC có tên Module2/DevAxNetworkVPC.  Chọn Subnets ở menu bên trái và lọc theo VPC ID của VPC Module2/DevAxNetworkVPC  Bạn sẽ thấy 4 subnet - 2 private và 2 public. Truy cập CodeStar dashboard.  Chọn Create project. Bạn sẽ thấy nhiều thẻ mẫu project. Nếu bạn thấy một thông báo liên quan vai trò dịch vụ bị thiếu. Chọn Create service role\n\r Vì monolith của chúng ta được viết bằng ngôn ngữ lập trình Java và chúng ta sẽ triển khai một ứng dụng, trong bảng tìm kiếm, hãy chọn các tùy chọn:   AWS Elastic Beanstalk Web Application Java Thao tác này sẽ liệt kê các thẻ mẫu phù hợp với yêu cầu - chọn thẻ Java Spring - Web Application   Trong trang tiếp theo, nhập TravelBuddy cho mục Project name.\n  Với mục repository, đảm bảo rằng CodeCommit đã được chọn và tên repository (Travel Buddy) được tự động điền.   Trong mục EC2 Configuration, chọn Instance Type là t3.medium\n  Chọn vpc đúng với tên VPC của bài thực hành.\n  Chọn Subnet là public subnet id đã xem ở phần trên.\n  Chọn keypair KPforDevAxInstances   Chọn Next\n  Chọn Create Project   CodeStar sẽ bắt đầu tạo một pipeline. Sau một vài phút, màn hình sẽ hiển thị project của bạn.   Trong khi chờ quá trình tạo project được hoàn tất, hãy khám phá tab IDE và tìm hiểu cách truy cập mã nguồn project.   Trong menu bên trái, chọn Team.\n  Chọn Add team member.   Chúng ta sẽ thêm một user đã có sẵn awsstudent. Tại mục Select user, chọn awsstudent\n  CodeStar yêu cầu các thành viên phải có một địa chỉ email. Do đó, hãy nhớ thêm địa chỉ email cho user.\n  Tại mục Role Type, chọn Owner.\n  Chọn Remote Access.   Tiếp theo, chúng ta sẽ tạo một user mới. Chọn Add team member.\n  Tại mục User, chọn Create new IAM user. Điều này sẽ chuyển hướng bạn tới IAM Management để tạo một user.   Trong IAM Management Console nhập username, đánh dấu chọn cả 2 loại truy cập: Programmatic access và AWS Management Console access.   Chọn Next: Permissions.\n  Chọn Attach existing policies directly và đánh dấu chọn AdministratorAccess.   Chọn Next: Tags, gắn thẻ cho user nếu cần hoặc chọn Next: Review để xem lại cấu hình.   Chọn Create User và chọn Download .csv để tải xuống tập tin chứa secret key và access key. Thông tin này sẽ được dùng trong các phần tiếp theo.   Chọn Close và trở lại trang CodeStar   Chọn biểu tượng refesh để cập nhật lại danh sách các user, chọn User user-lab02 vừa tạo.   Nhập địa chỉ email cho user, chọn Owner tại mục Project role, đánh dấu chọn Remote Access và chọn Add team member\n  Bây giờ chúng ta sẽ tạo credentials sử dụng cho Codecommit cho user vừa tạo.\n  Truy cập IAM và vào Users.   Chọn user vừa tạo và chọn tab Security Credentials.   Kéo xuống mục HTTPS Git credentials for AWS CodeCommit và chọn Generate Credentials CodeStar bây giờ đã cấu hình xong một CI/CD pipeline để phân phối project artefact của bạn vào một máy chủ web Elastic Beanstalk PaaS công khai. Quá trình này sẽ mất một vài phút, hãy kiểm tra liên kết trong đường dẫn và nhấn vào liên kết đó và xem ứng dụng java HelloWorld mới của bạn đã được tạo.\n  Truy cập CodeStar và chọn Projects\n  Chọn TravelBuddy, chọn tab Pipeline. Bạn sẽ thấy 3 giai đoạn được tạo Source, Build và Deploy.   Bạn có thể chọn View application tại góc trên bên phải để truy cập ứng dụng đang chạy của bạn.   "
},
{
	"uri": "/vi/4-deploy-windows-service/1-create-ec2-instance/",
	"title": "Tạo máy ảo EC2",
	"tags": [],
	"description": "",
	"content": "Trong phần này, bạn sẽ sử dụng AWS Console để tạo 2 máy ảo Windows EC2 và truy cập từ xa vào chúng.\n Truy cập EC2, chọn Instances và chọn Launch instance  Trong Step 1: Choose an Amazon Machine Image (AMI), chọn Microsoft Windows Server 2019 Base AMI  Trong Step 2: Choose an Instance Type, để các thông số như mặc định và chọn Next: Configure Instance Details  Trong Step 3: Configure Instance Details, chọn 2 cho mục Number of instances  Đặt VPC và Subnet như mặc định và chọn Auto-assign Public IP Tại mục IAM Role, chọn awscodestar-travelbuddy-xxx. Vai trò này được tạo tự động cho bạn trong quá trình cài đặt bài thực hành. Đặt các thông số khac như mặc định và cuộn xuống mục Advanced details. Tại mục User data, dán vào nội dung sau  \u0026lt;powershell\u0026gt;\rSet-ExecutionPolicy RemoteSigned -Force\rImport-Module AWSPowerShell\r$REGION = (ConvertFrom-Json (Invoke-WebRequest -Uri http://169.254.169.254/latest/dynamic/instance-identity/document -UseBasicParsing).Content).region\rNew-Item -Path c:\\temp -ItemType \u0026#34;directory\u0026#34; -Force\rpowershell.exe -Command Read-S3Object -BucketName aws-codedeploy-$REGION -Key latest/codedeploy-agent-updater.msi -File c:\\temp\\codedeploy-agent-updater.msi\r// Start-Sleep -Seconds 30 *optional\rc:\\temp\\codedeploy-agent-updater.msi /quiet /l c:\\temp\\host-agent-updater-log.txt\r\u0026lt;/powershell\u0026gt;\rĐây là đoạn script Powershell để tự động tải và cài đặt CodeDeploy Agent cho Windows.\n9. Chọn Next: Add storage.\n10. Trong Step 4: Add Storage, đặt các thông số như mặc định và chọn Next: Add Tags 11. Trong Step 5: Add Tags, chọn Add Tag 12. Nhập Name cho Key và nhập idevelop cho Value 13. Chọn Next: Configure Security Group\n14. Trong Step 6: Configure Security Group, đặt các thông số như mặc định. 15. Chọn Review and Launch. Chọn Launch\n16. Một hộp thoại xuất hiện, yêu cầu chọn một KeyPair. KeyPair này sử dụng để mã hóa mật khẩu Administrator được tạo ngẫu nhiêu trong quá trình khởi tạo. Chọn KeyPair và đánh dấu chọn I acknowledge that I have access to the selected private key file…, chọn Launch Instances Bạn sẽ thấy trang Launch Status, cho biết rằng các máy ảo đang được khởi chạy. Quá trình này sẽ mất vài phút để hoàn thành. Nhấp vào nút View Instances ở cuối trang để hiển thị trạng thái của quá trình khởi chạy. Bạn không cần phải đợi các phiên bản hoàn tất quá trình khởi tạo - hãy tiếp tục các phần sau.\n"
},
{
	"uri": "/vi/4-deploy-windows-service/2-create-code-deploy-application/",
	"title": "Tạo ứng dụng CodeDeploy và Deployment Group",
	"tags": [],
	"description": "",
	"content": "Trong phần này, bạn sẽ sử dụng bảng điều khiển CodeDeploy để tạo một ứng dụng và Deployment Group làm mục tiêu để CodeDeploy triển khai phần mềm vào.\n Truy cập CodeDeploy và chọn Getting Started  Chọn Create Application Trong trang Create application, nhập idevelopDemo cho Application name Chọn EC2/On-premises cho mục Compute Platform Chọn Create Application  Chọn Create deployment group  Nhập HeartbeatInstances cho Deployment group name Tại mục Service role ARN, nhập CodeDeployServiceRole và chọn full ARN của quyền từ danh sách.  Cuộn xuống phần Environment configuration, chọn tab Amazon EC2 Instances. Trong Tab group 1 section, chọn Name cho mục Key Chọn idevelop cho mục Value  Trong Matching instances section, bạn sẽ thấy 2 instance, 2 instance này đủ điều kiện để là một target cho Deployment Group này, vì có Name tag là idevelop. Đặt các mục khác như mặc định. Bỏ chọn Load Balancer Chọn Create Deployment Group Ứng dụng CodeDeploy và Deployment Group sẽ được tạo. Bây giờ bạn đã sẵn sàng triển khai phần mềm cho các máy ảo.  "
},
{
	"uri": "/vi/2-configure-release-automation/",
	"title": "Cấu hình phát hành tự động",
	"tags": [],
	"description": "",
	"content": "Trong phần này, bạn sẽ kết nối tới máy chủ Windows Development của mình. Chúng ta sẽ sử dụng môi trường Windows Development được cung cấp để chạy lab này.\n"
},
{
	"uri": "/vi/5-monitor-service/2-optional-confirm-codedeploy-agent/",
	"title": "(Optional) Xác nhận cài đặt CodeDeploy agent ",
	"tags": [],
	"description": "",
	"content": "Đây là một bước tùy chọn. Nếu bạn gặp sự cố trong quá trình triển khai, bạn sẽ cần phải điều tra trạng thái của CodeDeploy agent trên các máy ảo. Hoặc ngay cả khi bạn không có bất kỳ vấn đề nào để theo dõi, bạn có thể tìm hiểu xem dịch vụ Heartbeat đang làm gì. Để kết nối với các máy ảo Windows bạn phải sử dụng tập tin PEM chứa KeyPair được sinh ra trong quá trình cài đặt, để giải mã mật khẩu Windows, sau đó sử dụng Microsoft Remote Desktop client để kết nối tới máy ảo.\n Truy cập EC2 Management Console. Chọn một trong số 2 máy ảo có gắn thẻ idevelop  Chọn Connect Chọn tab RDP client và chọn Download remote desktop file để tải xuống tập tin RDP. Chọn keypair KPforDevAxInstances để decrypt mật khẩu của máy ảo Windows. Sử dụng mật khẩu và tập tin RDP để truy cập vào máy ảo Windows. Trong máy ảo Windows, mở tập tin c:\\temp\\host-agent-install-log Kiểm tra và đảm bảo rằng không có dòng nào có báo lỗi, ví dụ như Failed to connect to server vì đây là một lỗi xảy ra trong quá trình cài đặt. Nếu có lỗi xay ra trong quá trình cài đặt, bạn có thể thử tự chạy lại bằng các câu lệnh sau:  c:\\temp\\codedeploy-agent.msi /l*v c:\\temp\\host-agent-install-log.txt\rSau khi chạy lại cài đặt, kiểm tra lại tập tin c:\\temp\\host-agent-install-log. Nếu không có lỗi nào được hiển thị, quá trình tạo mới CodeDeploy có khả năng thành công. Bạn có thể tạo mới bằng lệnh AWS CLI:  aws deploy create-deployment --application-name idevelopDemo --deployment-group-name HeartbeatInstances --deployment-config-name CodeDeployDefault.AllAtOnce --description \u0026#34;Retrying Initial Deployment\u0026#34; --s3-location bucket=idevelop-codedeployartefacts-\u0026lt;yourinitials\u0026gt;,key=CodeDeployHearbeatDemo.zip,bundleType=zip\rThay thế bằng tên của bạn sao cho giống với tên S3 bucket bạn đã tạo. Tập tin ZIP sẽ được sao chép tới S3 bucket.\nXác nhận cài đặt dịch vụ Heartbeat thành công Giả sử CodeDeploy agent được cài đặt và chạy thành công, và bạn muốn xác nhận việc triển khai dichj vụ Heartbeat thành công, bạn có thể thực hiện các bước sau đây:\nSử dụng Service Control Manager để tìm AWS Heartbeat Demo Service. Nếu dịch vụ này hiển thị Running trong SCM, dịch vụ này đã cài đặt thành công. Mở thư mục c:\\Logs. Tập tin HeartBeatService trong thư mục sẽ chứa ouput như sau nếu nó khởi chạy thành công:  [INFO]09/14 08:33:18 - Initialising Heartbeat Service...\r[INFO]09/14 08:33:18 - Heartbeat Service is now running...\r[INFO]09/14 08:33:18 - Heartbeat - Deploy has Worked on Tuesday! Iteration 1\r[INFO]09/14 08:33:19 - Heartbeat - Deploy has Worked on Tuesday! Iteration 2\r...\r...\r"
},
{
	"uri": "/vi/3-automate-application-deployment/2-challenge-deploy-through-pipeline/",
	"title": "Challenge - Triển khai thông qua Pipeline",
	"tags": [],
	"description": "",
	"content": "Trong bài tập này, bạn sẽ thực hiện một thay đổi đối với ứng dụng, commit và push những thay đổi đó để kích hoạt quy trình CodePipeline để xây dựng lại và triển khai dự án của bạn vào môi trường Elastic Beanstalk. Dưới đây là các bước hướng dẫn chung mà bạn có thể làm theo để thực hiện thay đổi đối với tệp index.jsp và push thay đổi đó sang git, thao tác này sẽ kích hoạt pipeline CI/CD để xây dựng và triển khai phiên bản mới của ứng dụng.\n Tạo một nhánh mới.  Tìm trang index.jsp. Thay đổi đoạn văn bản hiển thị trên băng chuyền.  Commit thay đổi Chuyển tới nhánh master Merge các thay đổi  Đẩy nhánh về điểm gốc  Truy cập vào lại đường dẫn của ứng dụng khi triển khai những thay đổi đối với môi trường Elastic Beanstalk. Bạn nên nhấp vào các thành phần khác nhau trong bảng điều khiển dự án CodeStar và xem lại các hoạt động đang được thực hiện bởi CodeBuild, CodePipeline và Elastic Beanstalk. Kiểm tra ứng dụng để xác nhận các thay đổi đã được triển khai như mong đợi   "
},
{
	"uri": "/vi/2-configure-release-automation/2-connect-to-codecommit/",
	"title": "Kết nối Eclipse IDE với AWS Codecommit",
	"tags": [],
	"description": "",
	"content": "Trong bài thực hành này, bạn sẽ kết nối Eclipse IDE tới AWS CodeCommit\n Trong AWS CodeStar dashboard, chọn tab IDE  Chọn Eclipse và chọn View Instructions  Bạn sẽ sử dụng IAM user mà bạn đã tạo trước đó để cấu hình AWS Codecommit. Đảm bảo rằng bạn có user IAM secret key và access key mà bạn đã tải xuống trước đó. Truy cập máy ảo Windows, mở Eclipse. Trong lần đầu tiên khởi động, Eclipse sẽ hỏi bạn cấu hình workspace.  Chọn Use this as the default and do not ask again và chọn Launch Nếu AWS Toolkit đã được cài đặt sẵn trên Eclipse, Eclipse sẽ xuất hiện một hộp thoại Welcome to the AWS Toolkit for Eclipse, bạn có thể nhập Access Key và Secret Key tại hộp thoại này.  Nếu chưa được cài đặt, bạn có thể cài đặt AWS Toolkit bằng cách chọn Help, chọn Install new software  Trong menu thả xuống, tìm https://aws.amazon.com/eclipse và chọn các công cụ sau đây:   AWS Developer Tools AWS Deployment Tools   Chọn Next.  Trong cửa sổ Review, chọn Next  Chọn I accept the terms of the license agreements và chọn Finish  Sau khi cài đặt xong, chọn Restart Now Mở Eclipse IDE, tìm biểu tượng AWS, nhấp vào mũi tên thả xuống và chọn Preferences…  Đặt Default Profile thành default Nhập thông tin Profile credentials vào hộp thoại Profile Details  Chọn Apply and Close Chọn biểu tượng AWS và chọn Import AWS CodeStar Project….\n Chọn region đang tiến hành bài thực hành tại mục Account and region. Chọn TravelBuddy và TravelBuddy repository. Nhập thông tin git credentials đã tải xuống ở phần trước vào mục Configure Git credentials  Chọn Next. Có thể xuất hiện một hội thoại báo lỗi, bạn có thể bỏ qua hộp thoại này bằng cách chọn OK.\n Chọn Master và chọn Next.\n Để các thông tin khác như mặc định và chọn Next.\nIDE sẽ lấy các tập tin từ kho lưu trữ CodeCommit và chuẩn bị để bạn có thể bắt đầu viết mã nguồn. Có thể có lỗi xảy ra với mã nguồn vừa tải xuống này, tuy nhiên bạn có thể bỏ qua nó vì bạn sẽ không sử dụng mã này ngoài việc kiểm tra nó trong bước tiếp theo. Hãy dành chút thời gian để xem cấu trúc project trước khi bạn có thể tiếp tục. Ứng dụng mẫu Hello World này trình bày một trang web cho người dùng và kết nối với một Spring controller chuẩn.   Vậy là bạn đã hoàn thành việc kết nối và pull source code từ code commit về máy của developer. Ở bước tiếp theo chúng ta sẽ thay đổi code và release phiên bản mới của ứng dụng lên Elastic Beanstalk.\n"
},
{
	"uri": "/vi/3-automate-application-deployment/",
	"title": "Triển khai ứng dụng",
	"tags": [],
	"description": "",
	"content": "Trong phần này, bạn sẽ:\n Cập nhật mã nguồn trong Eclipse, ghi đè lên ứng dụng mẫu và thay thế nó bằng trang web TravelBuddy. Sau đó, bạn sẽ commit những thay đổi của mã nguồn vào CodeCommit để kích hoạt việc triển khai vào môi trường Elastic Beanstalk.  "
},
{
	"uri": "/vi/5-monitor-service/3-optional-use-sdk-query-elastic-beanstalk/",
	"title": "(Optional) Sử dụng SDK để truy vấn Elastic Beanstalk",
	"tags": [],
	"description": "",
	"content": "Trong phần này, bạn sẽ sử dụng Java SDK để kiểm tra môi trường AWS của mình và truy vấn thông tin về Elastic Beanstalk.\n Tải tập tin BeanstalkManager.zip. BeanstalkManager là một ứng dụng Java mẫu sử dụng SDK AWS Elastic Beanstalk API. \r\rAttachments\r\r\rBeanstalkManager.zip\r\r(7 ko)\r\r\r\r Giải nén và mở project trong Eclipse IDE.  Chạy Unit Test cho ứng dụng này Unit Test sẽ trả về các thông tin:   Liệt kê các ứng dụng đăng ký với Elastic Beanstalk ở region mặc định. Liệt kê các ứng dụng và Application Versions đã được đăng ký. Nếu bạn không thấy bất kỳ kết quả trả về nào, có nghĩa rằng bạn đã chọn sai region. Kiểm tra tập tin src/main/java/idevelop.samples/AmazonElasticBeanstalkClientFactory.java để xem bạn đã chọn đúng region chưa.\n\r  Ứng dụng mẫu này cung cấp cho bạn ý tưởng về cách bạn có thể sử dụng SDK để truy xuất thông tin về môi trường Elastic Beanstalk.\n"
},
{
	"uri": "/vi/3-automate-application-deployment/3-problem-determination/3-python27/",
	"title": "Python 2.7 EOS",
	"tags": [],
	"description": "",
	"content": "Cập nhật cấu hình ebextensions chuyển sang sử dụng python 3 Do hiện tại Elastic Beanstalk sử dụng Python 3 nên chúng ta sẽ cần cập nhật lại cấu hình trong thư mục .ebextensions nằm trong Project của chúng ta.\nCập nhật nội dung file sshd.config như hướng dẫn bên dưới.\n Chỉnh sửa python27-devel sang python3-devel Chỉnh sửa python27-pip sang python3-pip Chỉnh sửa /etc/init.d/sshd restart sang sudo service sshd restart  packages:\ryum:\rpython3-devel: []\rpython3-pip: []\rgcc: []\rpython:\rpycryptodome: []\rboto3: []\rfiles:\r\u0026quot;/usr/local/bin/get_authorized_keys\u0026quot; :\rmode: \u0026quot;000755\u0026quot;\rowner: root\rgroup: root\rsource: https://awscodestar-templates-common.s3.amazonaws.com/ap-southeast-2/get_authorized_keys\rcommands:\r01_update_ssh_access:\rcommand: \u0026gt;\rsed -i '/AuthorizedKeysCommand /s/.*/AuthorizedKeysCommand \\/usr\\/local\\/bin\\/get_authorized_keys/g' /etc/ssh/sshd_config \u0026amp;\u0026amp;\rsed -i '/AuthorizedKeysCommandUser /s/.*/AuthorizedKeysCommandUser root/g' /etc/ssh/sshd_config \u0026amp;\u0026amp;\rsudo service sshd restart\rCập nhật nội dung file set-instance-credit-unlimited như hướng dẫn bên dưới.\n Chỉnh sửa pip install awscli \u0026ndash;upgrade \u0026ndash;user sang pip3 install awscli \u0026ndash;upgrade \u0026ndash;user  commands:\rupgrade-aws-cli:\rcommand: |\rpip3 install awscli --upgrade --user\rset-instance-credit-unlimited:\rcommand: |\raws ec2 modify-instance-credit-specification --region ap-southeast-1 --instance-credit-specification '[{\u0026quot;InstanceId\u0026quot;: \u0026quot;'\u0026quot;$(wget -q -O - http://169.254.169.254/latest/meta-data/instance-id)\u0026quot;'\u0026quot;,\u0026quot;CpuCredits\u0026quot;: \u0026quot;unlimited\u0026quot;}]'\rSau khi chỉnh sửa xong , thực hiện commit và push code lên Code Commit để kích hoạt pipeline.\n"
},
{
	"uri": "/vi/4-deploy-windows-service/3-create-deployment-s3-bucket/",
	"title": "Tạo Triển khai S3 Bucket",
	"tags": [],
	"description": "",
	"content": "AWS CodeDeploy yêu cầu các artefact triển khai phải được lưu trữ trong S3 bucket. Trong phần này, chúng tôi sẽ tạo bucket cho mục đích đó, sử dụng AWS CLI.\n Mở terminal và sử dụng lệnh sau:  aws s3 mb s3://idevelop-codedeployartefacts-\u0026lt;yourinitials\u0026gt;\rThay bằng tên của bạn sao cho tên bucket là duy nhất.\n"
},
{
	"uri": "/vi/3-automate-application-deployment/3-problem-determination/",
	"title": "Xác định lỗi",
	"tags": [],
	"description": "",
	"content": "Kiểm tra tập tun buildspec.yml Tập tin buildspec.yml là một phần quan trọng mà bạn cần phải đảm bảo tính chính xác của tập tin này. Tập tin này sẽ chạy qua các giai đoạn mà bạn có thể thấy trong bảng điều khiển bên dưới CodeBuild trong log của nó. Tập tin này được chia thành nhiều phần nhỏ\ninstall - loại cài đặt mà bạn muốn chạy code. Trong trường hợp này, chúng ta sẽ sử dụng openjdk8.\nphases:\rinstall:\rruntime-versions:\rjava: openjdk8\rcommands:\r- pip install --upgrade awscli\rTiếp theo là các lệnh bạn muốn chạy trước khi thực hiện build project. Đây là yêu cầu trước khi build project. Và trong ví dụ này, chúng ta sẽ chạy lệnh mvn để biên dịch tất cả các thiết lập cần thiết.\npre_build:\rcommands:\r- mvn clean compile test\rKế tiếp là tạo build stage\nbuild:\rcommands:\r- mvn war:exploded\rSau khi build mvn, là cách thiết lập môi trường bắt buộc cho mỗi môi trường trong .ebextensions được đọc bởi các ứng dụng được yêu cầu\n post_build:\rcommands:\r- cp -r .ebextensions/ target/travelbuddy/\r- aws cloudformation package --template template.yml --s3-bucket $S3_BUCKET --output-template-file template-export.yml\r# Do not remove this statement. This command is required for AWS CodeStar projects.\r# Update the AWS Partition, AWS Region, account ID and project ID in the project ARN on template-configuration.json file so AWS CloudFormation can tag project resources.\r- sed -i.bak 's/\\$PARTITION\\$/'${PARTITION}'/g;s/\\$AWS_REGION\\$/'${AWS_REGION}'/g;s/\\$ACCOUNT_ID\\$/'${ACCOUNT_ID}'/g;s/\\$PROJECT_ID\\$/'${PROJECT_ID}'/g' template-configuration.json\rartifacts:\rtype: zip\rfiles:\r- template-export.yml\r- template-configuration.json\rKiểm tra bảng điều khiển CodeBuild Kiểm tra bảng điều khiển CodeBuild và xem có lỗi nào xuất hiện trong quá trình triển khai hay không. Nếu có, chọn xem chi tiết để biết lỗi xảy ra là gì. Truy cập Buildlog tab và cuộn xuống phần log báo lỗi. Trong ví dụ này, bạn có thể thấy địa chỉ truy cập của root trong tập tin template.yml không chính xác.  Unable to upload artifact target/ROOT referenced by SourceBundle parameter of EBApplicationVersion resource.\rParameter SourceBundle of resource EBApplicationVersion refers to a file or folder that does not exist /codebuild/output/src812543603/src/target/ROOT\r[Container] 2020/06/05 02:16:17 Command did not exit successfully aws cloudformation package --template template.yml --s3-bucket $S3_BUCKET --output-template-file template-export.yml exit status 255\r[Container] 2020/06/05 02:16:17 Phase complete: POST_BUILD State: FAILED\r[Container] 2020/06/05 02:16:17 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: aws cloudformation package --template template.yml --s3-bucket $S3_BUCKET --output-template-file template-export.yml. Reason: exit status 255\rĐây là lỗi trong tập tin template.yml cần được thay đổi:\nEBApplicationVersion:\rDescription: The version of the AWS Elastic Beanstalk application to be created for this project.\rType: AWS::ElasticBeanstalk::ApplicationVersion\rProperties:\rApplicationName: !Ref \u0026quot;EBApplication\u0026quot;\rDescription: The application version number.\rSourceBundle: \u0026quot;target/ROOT\u0026quot;\rthành\nEBApplicationVersion:\rDescription: The version of the AWS Elastic Beanstalk application to be created for this project.\rType: AWS::ElasticBeanstalk::ApplicationVersion\rProperties:\rApplicationName: !Ref \u0026quot;EBApplication\u0026quot;\rDescription: The application version number.\rSourceBundle: \u0026quot;target/travelbuddy\u0026quot;\rCập nhật Elastic beanstalk có thành công hay không? Truy cập Elastic beanstalk, vào ứng dụng travelbuddy và chọn Request Logs. Ở đây có 2 loại log là Last 100 Lines và Full Logs. Chọn loại phù hợp và tải về. Kiểm tra các tập tin log đã tải về để xem tại sao máy chủ lại không khởi động được. Dưới đây là một vài vấn đề ví dụ:   Ví dụ về việc giao tiếp giữa client và RDS server không hoạt động  05-Jun-2020 03:27:26.514 SEVERE [localhost-startStop-1] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool.\rcom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\rThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\rat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\rat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\rat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)\rat com.mysql.cj.jdbc.ConnectionImpl.\u0026lt;init\u0026gt;(ConnectionImpl.java:456)\rat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)\rTrong ví dụ này, RDS endpoint được khai báo trong .ebexentions sai. Sửa lại RDS endpoint sẽ khắc phục được lỗi này.\n Ví dụ về việc không tồn tại table trong RDS:  java.sql.SQLSyntaxErrorException: Table 'travelbuddy.flightspecial' doesn't exist\rcom.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\rcom.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\rcom.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\rcom.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\rcom.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1003)\rsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\rsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\rsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\rĐể khắc phục lỗi này, đăng nhập vào mysql và truy cập vào database, thực hiện lại các phần tạo databse đã hướng dẫn ở bài lab đầu tiên.\nKhắc phục sự cố ứng dụng sau khi thay thế mã nguồn. Việc khởi tạo thành công, tuy nhiên bạn không thể truy cập ứng dụng của mình. Làm theo các bước sau để điều tra và giải quyết vấn đề. 4. Kiểm tra CodeStar Pipeline xem có lỗi nào hay không 5. Kiểm tra phần Deploy và chọn ExecuteChangeSet Details 6. Kiểm tra tại ElasticBeanstalk 7. Xem logs của ứng dụng travelbuddy\n23-Sep-2020 06:16:13.732 SEVERE [localhost-startStop-1] org.apache.tomcat.jdbc.pool.ConnectionPool.init Unable to create initial connections of pool.\rcom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\rThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\rat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\rDường như ứng dụng không được phép kết nối tới Database. Để ứng dụng có thể giao tiếp được với Database, ta cần thêm SecurotyGroup từ ElasticBeanstalk Enviroment tới SecurityGroup từ RDS.\n Truy cập EC2 và chọn Security Groups ![SecurityGroup]](../../../images/3/35.png?width=90pc) Chọn DBSecurityGroup và chọn tab Inbound rules Chọn Edit inbound rules  Chọn dịch vụ MySQL/Aurora và chọn SecurityGroup ID từ travelbuddyapp. Chọn Save rules  Kiểm tra lại ứng dụng và thấy rằng có thể truy cập được ứng dụng một cách bình thường.  "
},
{
	"uri": "/vi/4-deploy-windows-service/",
	"title": "Triển khai Windows Service sử dụng AWS CodeDeploy",
	"tags": [],
	"description": "",
	"content": "Trong bài thực hành này, bạn sẽ sử dụng AWS CodeDeploy để đẩy một Windows Service lên một nhóm các EC2 instance và để nó tự động triển khai, đăng ký và khởi động.\nWindows Service có tên là \u0026lsquo;Heartbeat\u0026rsquo;. Nó ghi heartbeat message vào tệp nhật ký theo định kỳ và cũng viết chi tiết về trạng thái đang chạy của nó khi nó chuyển từ trạng thái dừng sang đang chạy và dừng lại để giúp bạn dễ dàng thấy AWS CodeDeploy đang hoạt động khi cập nhật phần mềm. Bạn sẽ không viết code cho bài tập này, tất cả mã biên dịch được cung cấp cho bạn. Thay vào đó, bạn sẽ tập trung vào việc sử dụng AWS CodeDeploy để quản lý việc triển khai cho nhóm.\n"
},
{
	"uri": "/vi/4-deploy-windows-service/4-deploy-using-codedeploy/",
	"title": "Triển khai ứng dụng sử dụng CodeDeploy",
	"tags": [],
	"description": "",
	"content": "Tải xuống Heartbeat Windows Service mẫu  Nhấp chuột phải và lưu tập tin CodeDeployHeartbeatDemo.zip. Giải nén tập tin.  \r\rAttachments\r\r\rCodeDeployHeartbeatDemo.zip\r\r(287 ko)\r\r\r\rHãy dành một chút thời gian để kiểm tra nội dung của tệp appspec.yml. Nó có các nội dung sau:\nos: windows\rfiles:\r- source: Heartbeat.dll\rdestination: c:\\HeartbeatService\r- source: HeartbeatService.exe\rdestination: c:\\HeartbeatService\r- source: HeartbeatService.exe.config\rdestination: c:\\HeartbeatService\r- source: log4net.dll\rdestination: c:\\HeartbeatService\r- source: Logger.dll\rdestination: c:\\HeartbeatService\r- source: wintail.exe\rdestination: c:\\temp\rhooks:\rApplicationStop:\r- location: uninstall.ps1\rtimeout: 30\rAfterInstall:\r- location: install.ps1\rtimeout: 30\r- location: copywintail.ps1\rtimeout: 30\rTệp appspec.yml phác thảo từng tập tin nguồn có trong tập tin nén ZIP vừa giải nén và chỉ định đích trên máy ảo EC2 đích nơi tập tin sẽ được lưu trữ. Việc triển khai này chỉ sử dụng hai lifecycle hooks - ApplicationStop và AfterInstall nhưng bạn có thể sử dụng nhiều hơn nếu trường hợp của bạn yêu cầu. Trong trường hợp này, các tập lệnh powershell (cũng được bao gồm trong kho lưu trữ tệp ZIP) được sử dụng để dừng dịch vụ Windows và hủy đăng ký dịch vụ (nếu nó đã được cài đặt) và sau đó sau khi tất cả các tệp được sao chép, để đăng ký dịch vụ và khởi động nó, và cũng di chuyển trình trợ giúp wintail vào vị trí để hỗ trợ xem tệp nhật ký.\nĐẩy gói triển khai lên S3 sẵn sàng để triển khai bởi CodeDeploy Chúng ta đã sẵn sàng để triển khai dịch vụ Heartbeat tới EC2 instance. Chúng ta có các tập tin triển khai trong máy và cần đóng gói chúng lại và đẩy chúng lên S3. Công cụ AWS CLI CodeDeploy sẽ giúp chúng ta hiện việc này.\nTrong terminal, cd tới thư mục giải nén CodeDeployHeartbeatDemo. Dùng các lệnh sau để đóng gói các tập tin và đẩy chúng lên S3.  aws deploy push --application-name idevelopDemo --source CodeDeployHeartbeatDemo --profile aws-lab-env --s3-location s3://idevelop-codedeployartefacts-\u0026lt;yourinitials\u0026gt;/CodeDeployHeartbeatDemo.zip Thay bằng tên của bạn giống như tên của bucket đã tạo ở bước trước. Nếu thành công, CLI sẽ trả về kết quả To deploy with this revision, run:…, nhưng bạn không nên sử dụng dòng lệnh này, thay vào đó hãy sử dụng câu lệnh được cung cấp ở bước sau. 4. Nhập các lệnh sau vào terminal\naws deploy create-deployment --application-name idevelopDemo --deployment-group-name HeartbeatInstances --deployment-config-name CodeDeployDefault.OneAtATime --description \u0026#34;Initial Deployment\u0026#34; --s3-location bucket=idevelop-codedeployartefacts-\u0026lt;yourinitials\u0026gt;,key=CodeDeployHeartbeatDemo.zip,bundleType=zip\rThay bằng tên của bạn giống như tên của bucket đã tạo ở bước trước. Nếu thành công, CLI sẽ trả về deploymentId "
},
{
	"uri": "/vi/5-monitor-service/",
	"title": "Giám sát dịch vụ của bạn",
	"tags": [],
	"description": "",
	"content": "Trong phần này, bạn sẽ giám sác các dịch vụ Windows của mình.\n"
},
{
	"uri": "/vi/6-challenge/",
	"title": "Thử thách - Thay đổi mã nguồn ứng dụng",
	"tags": [],
	"description": "",
	"content": "Trong thử thách này, bạn sẽ thực hiện một thay đổi đối với ứng dụng BeanstalkManager để tạo tự động một ứng dụng Elastic Beanstalk, Môi trường và Vesion. Đây là những tác vụ được CodePipeline hoàn thành khi bạn chọn Elastic Beanstalk để triển khai. Điều này sẽ cung cấp cho bạn một số hiểu biết về lợi ích của việc sử dụng Công cụ dành cho nhà phát triển AWS để cung cấp và triển khai các ứng dụng của bạn cũng như các tính năng mạnh mẽ mà chúng cung cấp. Để bắt đầu, bạn có thể tham khảo tài liệu Java SDK tại đường dẫn http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/elasticbeanstalk/AWSElasticBeanstalkClient.html\nBạn sẽ cần tạo một ứng dụng\nAWSElasticBeanstalk client = new AWSElasticBeanstalkClient();\rCreateApplicationRequest request = new CreateApplicationRequest()\r.withApplicationName(\u0026#34;my-app\u0026#34;)\r.withDescription(\u0026#34;my application\u0026#34;);\rCreateApplicationResult response = client.createApplication(request);\rTiếp theo, bạn sẽ cần phải đóng gói artefact triển khai của mình (có lẽ đó là trang TravelBuddy mà chúng tôi đang sử dụng hoặc bạn có thể tạo ứng dụng web java của riêng mình) và tải tệp WAR đó lên S3. Bạn đã học cách tải tệp lên bộ chứa S3 theo chương trình trong bài thực hành đầu tiên của khóa học này. Sau đó, để tạo một phiên bản trong Elastic Beanstalk:\nAWSElasticBeanstalk client = new AWSElasticBeanstalkClient();\rCreateApplicationVersionRequest request = new CreateApplicationVersionRequest()\r.withApplicationName(\u0026#34;my-app\u0026#34;)\r.withAutoCreateApplication(true)\r.withDescription(\u0026#34;my-app-v1\u0026#34;)\r.withProcess(true)\r.withSourceBundle(\rnew S3Location().withS3Bucket(\u0026#34;my-bucket\u0026#34;).withS3Key(\r\u0026#34;sample.war\u0026#34;)).withVersionLabel(\u0026#34;v1\u0026#34;);\rCreateApplicationVersionResult response = client\r.createApplicationVersion(request);\rTa có ứng dụng được trong Elastic Beanstalk Tiếp theo, ta cần tạo môi trường cho ứng dụng này.\nConfigurationOptionSetting cos = new ConfigurationOptionSetting(\u0026#34;aws:autoscaling:launchconfiguration\u0026#34;,\u0026#34;IamInstanceProfile\u0026#34;,\u0026#34;aws-elasticbeanstalk-ec2-role\u0026#34;);\rCreateEnvironmentRequest request = new CreateEnvironmentRequest()\r.withApplicationName(\u0026#34;my-app\u0026#34;)\r.withEnvironmentName(\u0026#34;env-my-app\u0026#34;)\r.withSolutionStackName(\u0026#34;64bit Amazon Linux 2018.03 v3.4.3 running Tomcat 8.5 Java 8\u0026#34;)\r.withOptionSettings(cos);\rCreateEnvironmentResult response = eb.createEnvironment(request);\rSystem.out.print(response);\rDùng lệnh mvn install để khởi chạy chương trình. Sau khi chạy thành công, ta được một ứng dụng my-app được triển khai trên môi trường env-my-app "
},
{
	"uri": "/vi/7-conclustion/",
	"title": "Kết luận",
	"tags": [],
	"description": "",
	"content": "Chúc mừng! Bây giờ bạn đã thành công:  Sử dụng một ứng dụng java monolithic chạy Spring trong Tomcat trong một môi trường máy tính và thực hiện ‘lift-and-shift’ trên Amazon Elastic Beanstalk PaaS với CI/CD pipeline để tự động cập nhật, sử dụng AWS CodeStar. Sử dụng Eclipse IDE để kết nối và kiểm tra mã nguồn project từ AWS CodeCommit repository được cài đặt bởi AWS CodeStar. Thay đổi mã nguồn, commit và push thay đổi lên AWS CodeCommit và kích hoạt quy trình xây dựng tự động thông qua AWS CodePipeline.  "
},
{
	"uri": "/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]